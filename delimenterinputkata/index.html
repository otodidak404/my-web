<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projek Input Kata</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Fira Code', monospace;
            margin: 20px;
            background-color: #2c3e50; /* Warna latar belakang gelap */
            color: #fff; /* Warna font terang */
            transition: background-color 0.3s, color 0.3s; /* Transisi untuk tema */
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .grid-item {
            padding: 10px;
            border-radius: 4px;
            background-color: #34495e; /* Warna latar belakang item */
            color: #fff; /* Warna font terang */
        }

        button {
            padding: 10px 15px;
            margin: 5px;
            background-color: #3498db; /* Warna background tombol */
            color: #fff; /* Warna font tombol */
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease; /* Animasi tombol */
            display: flex; /* Menggunakan flexbox untuk menyelaraskan ikon dan teks */
            align-items: center; /* Menyelaraskan ikon dan teks secara vertikal */
        }

        button:hover {
            background-color: #2980b9; /* Warna background tombol hover */
        }

        textarea {
            resize: none;
            width: 100%;
            height: 100px;
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #3498db; /* Warna border kontras */
            border-radius: 4px;
        }

        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #3498db; /* Warna border kontras */
            border-radius: 4px;
        }

        /* Efek teks glow */
        .glow {
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        /* Pesan kesalahan */
        .error-message {
            color: #e74c3c; /* Warna merah untuk pesan kesalahan */
            margin-top: 10px;
        }

        /* Responsif */
        @media (max-width: 1024px) {
            h1 {
                font-size: 1.8em; /* Menyesuaikan ukuran font untuk tablet */
            }

            button {
                padding: 8px 12px; /* Mengurangi padding pada tombol untuk perangkat lebih kecil */
            }

            textarea {
                height: 80px; /* Mengurangi tinggi textarea untuk perangkat lebih kecil */
            }
        }

        @media (max-width: 768px) {
            .grid-container {
                grid-template-columns: 1fr; /* Satu kolom untuk perangkat kecil */
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.5em; /* Ukuran font lebih kecil untuk ponsel */
            }

            button {
                width: 100%; /* Tombol memenuhi lebar kontainer */
            }

            textarea {
                height: 60px; /* Mengurangi tinggi textarea untuk ponsel */
            }
        }

        .saved-outputs {
            margin-top: 20px;
        }

        .saved-outputs h3 {
            margin-bottom: 10px;
        }

        .saved-outputs ul {
            list-style-type: none;
            padding: 0;
        }

        .saved-outputs li {
            background-color: #2980b9;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Tema terang dan gelap */
        .light-theme {
            background-color: #ecf0f1; /* Warna latar belakang terang */
            color: #2c3e50; /* Warna font gelap */
        }

        .light-theme .grid-item {
            background-color: #bdc3c7; /* Warna latar belakang item terang */
        }

        .light-theme button {
            background-color: #3498db; /* Warna background tombol terang */
        }

        .light-theme button:hover {
            background-color: #2980b9; /* Warna background tombol hover terang */
        }
    </style>
</head>
<body>
    <h1 class="glow">Projek Input Kata</h1>
    
    <div class="grid-container">
        <section class="grid-item">
            <h2>Input Data</h2>
            <label for="screen1">Layar 1:</label>
            <textarea id="screen1" placeholder="Masukkan kata di sini..." aria-required="true"></textarea>
            
            <label for="screen2">Layar 2:</label>
            <textarea id="screen2" placeholder="Masukkan kata tambahan di sini..." aria-required="true"></textarea>
            
            <label for="delimiter">Delimiter:</label>
            <select id="delimiter" aria-label="Pilih delimiter">
                <option value="@">@</option>
                <option value="#">#</option>
                <option value="$">$</option>
                <option value="|">|</option>
                <option value="+">+</option>
                <option value="=">=</option>
                <option value="custom">Kustom</option>
            </select>
            
            <div id="customDelimiter" style="display: none;">
                <input type="text" id="customDelimiterInput" placeholder="Masukkan delimiter kustom" aria-label="Delimiter kustom" />
            </div>
            
            <div class="button-group">
                <button onclick="processInput()">
                    <i class="fas fa-search"></i> Proses Output
                </button>
                <button onclick="clearAll()">
                    <i class="fas fa-trash"></i> Clear All
                </button>
                <button onclick="undoLastInput()">
                    <i class="fas fa-undo"></i> Undo
                </button>
            </div>
            <div id="error-message" class="error-message" role="alert"></div>
        </section>
        
        <section class="grid-item">
            <h2>Hasil Output</h2>
            <textarea id="outputText" readonly></textarea>
            <div class="button-group">
                <button onclick="copyOutput()">
                    <i class="fas fa-copy"></i> Copy
                </button>
                <button onclick="downloadOutput()">
                    <i class="fas fa-download"></i> Download
                </button>
                <button onclick="saveOutput()">
                    <i class="fas fa-save"></i> Save
                </button>
            </div>
            <div class="saved-outputs">
                <h3>Saved Outputs</h3>
                <ul id="output-list"></ul>
            </div>
        </section>
    </div>

    <button id="toggle-theme" style="margin-top: 20px;">ðŸŒž Ganti Tema</button>

    <script>
        let inputHistory = [];
        let isLightTheme = false;

        function processInput() {
            const inputText1 = document.getElementById('screen1').value.trim().split('\n');
            const inputText2 = document.getElementById('screen2').value.trim().split('\n');
            const delimiter = document.getElementById('delimiter').value;
            let outputLines = [];
            const errorMessage = document.getElementById('error-message');

            // Reset pesan kesalahan
            errorMessage.textContent = '';

            // Validasi input
            if (inputText1.length === 0 || inputText2.length === 0) {
                errorMessage.textContent = 'Harap masukkan kata di kedua layar!';
                return;
            }

            // Menggabungkan kata dari kedua layar
            const maxLength = Math.max(inputText1.length, inputText2.length);
            for (let i = 0; i < maxLength; i++) {
                const word1 = inputText1[i] || ''; // Ambil kata dari layar 1
                const word2 = inputText2[i] || ''; // Ambil kata dari layar 2
                
                // Gunakan delimiter kustom jika dipilih
                if (delimiter === 'custom') {
                    const customDelimiter = document.getElementById('customDelimiterInput').value.trim();
                    if (!customDelimiter) {
                        errorMessage.textContent = 'Delimiter kustom tidak boleh kosong!';
                        return;
                    }
                    outputLines.push(word1 + customDelimiter + word2);
                } else {
                    outputLines.push(word1 + delimiter + word2);
                }
            }

            document.getElementById('outputText').value = outputLines.join('\n'); // Tampilkan hasil
            inputHistory.push(outputLines.join('\n')); // Simpan ke riwayat input
        }

        function clearAll() {
            document.getElementById('screen1').value = '';
            document.getElementById('screen2').value = '';
            document.getElementById('outputText').value = '';
            document.getElementById('delimiter').value = '@'; // Reset to default
            document.getElementById('customDelimiter').style.display = 'none';
            document.getElementById('error-message').textContent = ''; // Reset pesan kesalahan
        }

        function copyOutput() {
            const outputText = document.getElementById('outputText');
            outputText.select();
            document.execCommand('copy');
            alert('Output telah disalin!');
        }

        function downloadOutput() {
            const outputText = document.getElementById('outputText').value;
            const blob = new Blob([outputText], { type: 'text/plain' });
            const link = document.createElement('a');
            link.href = window.URL.createObjectURL(blob);
            link.download = 'output.txt';
            link.click();
        }

        function undoLastInput() {
            if (inputHistory.length > 0) {
                inputHistory.pop();
                document.getElementById('outputText').value = inputHistory.join('\n');
            } else {
                alert('Tidak ada input yang dapat dibatalkan.');
            }
        }

        function saveOutput() {
            const outputText = document.getElementById('outputText').value;
            if (outputText.trim() !== '') {
                const outputList = document.getElementById('output-list');
                const listItem = document.createElement('li');
                const copyButton = document.createElement('button');
                copyButton.textContent = 'Copy';
                copyButton.addEventListener('click', () => {
                    navigator.clipboard.writeText(outputText);
                    alert('Output telah disalin!');
                });
                listItem.textContent = outputText;
                listItem.appendChild(copyButton);
                outputList.appendChild(listItem);
            }
        }

        // Tampilkan input kustom jika dipilih
        document.getElementById('delimiter').addEventListener('change', function() {
            const customDelimiterDiv = document.getElementById('customDelimiter');
            if (this.value === 'custom') {
                customDelimiterDiv.style.display = 'block';
            } else {
                customDelimiterDiv.style.display = 'none';
            }
        });

        // Fungsi untuk mengganti tema
        document.getElementById('toggle-theme').addEventListener('click', function() {
            isLightTheme = !isLightTheme;
            document.body.classList.toggle('light-theme', isLightTheme);
            this.textContent = isLightTheme ? 'ðŸŒ™ Ganti Tema' : 'ðŸŒž Ganti Tema';
        });

        // Efek teks glow
        document.querySelectorAll('h1').forEach(header => {
            header.classList.add('glow');
        });
    </script>
</body>
</html>
